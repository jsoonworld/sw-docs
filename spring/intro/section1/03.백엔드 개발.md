# 엔터프라이즈 애플리케이션 아키텍처

엔터프라이즈 수준의 애플리케이션 아키텍처는 일반적으로 여러 구성 요소로 나뉘며, 각각은 특정 역할을 수행합니다. 아래는 주요 구성 요소와 그 역할에 대한 설명입니다.

## 주요 구성 요소와 역할

- **컨트롤러**: 일반적으로 MVC(Model-View-Controller) 패턴의 '컨트롤러' 부분을 담당합니다. 사용자의 입력을 받고, 요청에 따라 서비스 레이어에 전달합니다.
- **서비스**: 비즈니스 로직을 처리합니다. 컨트롤러로부터 받은 요청에 대한 비즈니스 로직을 실행하고, 결과를 리포지토리 또는 다이렉트로 데이터 레이어로 전달합니다.
- **리포지토리**: 데이터베이스와의 상호작용을 담당합니다. 데이터베이스로부터 데이터를 검색하거나, 데이터를 저장하는 등의 역할을 수행합니다.
- **데이터베이스(DB)**: 애플리케이션의 데이터를 지속적으로 저장하는 영구 저장소입니다.
- **데이터 레이어**: 이 레이어는 서비스로부터 전달받은 데이터를 처리하며, CRUD(생성, 읽기, 업데이트, 삭제) 작업을 비롯한 모든 데이터 관련 작업을 데이터베이스와의 상호작용을 통해 수행합니다.

## 데이터 흐름

1. 사용자 인터페이스 또는 애플리케이션의 다른 부분으로부터 요청이 컨트롤러로 전달됩니다.
2. 컨트롤러는 요청에 따른 처리를 서비스 레이어에 지시합니다.
3. 서비스 레이어는 비즈니스 로직을 실행하고, 필요한 데이터 작업을 위해 리포지토리 또는 데이터 레이어와 상호작용합니다.
4. 데이터 레이어는 리포지토리를 통해 DB와 통신하여 데이터를 처리합니다.

이러한 아키텍처는 모듈화를 통해 각 구성 요소의 독립성을 보장하며, 유지보수와 확장성을 증진시킵니다.

## 테스트 케이스 작성

개발한 기능을 실행해서 테스트 할 때 자바의 main 메서드를 통해서 실행하거나, 웹 애플리케이션의 컨트롤러를 통해 서 해당 기능을 실행한다. 이러한 방법은 준비하고 실행하는데 오래 걸리고, 
반복 실행하기 어렵고 여러 테스트를 한번 에 실행하기 어렵다는 단점이 있다. 자바는 JUnit이라는 프레임워크로 테스트를 실행해서 이러한 문제를 해결한다.

`@AfterEach` : 한번에 여러 테스트를 실행하면 메모리 DB에 직전 테스트의 결과가 남을 수 있다. 
이렇게 되면 다음 이전 테스트 때문에 다음 테스트가 실패할 가능성이 있다. `@AfterEach` 를 사용하면 각 테스트가 종료될 때 마다 이 기능을 실행한다. 
여기서는 메모리 DB에 저장된 데이터를 삭제한다.
테스트는 각각 독립적으로 실행되어야 한다. 테스트 순서에 의존관계가 있는 것은 좋은 테스트가 아니다.

`@BeforeEach` : 각 테스트 실행 전에 호출된다. 테스트가 서로 영향이 없도록 항상 새로운 객체를 생성하고, 의 존관계도 새로 맺어준다.
